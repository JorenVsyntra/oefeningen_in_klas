<!DOCTYPE html>
<html lang="en">
<!-- Previous head section remains the same -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santa's Workshop Management System</title>
    <style>
        /* Previous styles remain the same */
        .code-example {
            background-color: #f8f8f8;
            padding: 15px;
            border-radius: 4px;
            border-left: 4px solid #c41e3a;
            font-family: monospace;
            margin: 15px 0;
            white-space: pre-wrap;
        }
        .explanation {
            background-color: #e8f4f8;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .interactive-demo {
            background-color: #fff;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <!-- Previous sections remain the same -->

    <!-- New Section for Scope Examples -->
    <div class="container">
        <div class="section">
            <h2>Santa's Message Generator</h2>
            <div class="input-group">
                <label for="childNameMessage">Child's Name:</label>
                <input type="text" id="childNameMessage" placeholder="Enter child's name">
            </div>
            <div class="input-group">
                <label for="numGifts">Number of Gifts:</label>
                <input type="number" id="numGifts" min="1" max="20" value="5">
            </div>
            <button onclick="generateSantaMessage()">Generate Message</button>
            <div id="messageResult" class="results"></div>

            <div class="code-example">
// Santa's Message Generator Implementation:
const santaMessage = (name, gifts) => 
    `Ho ho ho! ${name} has been good and gets ${gifts} presents!`;
            </div>
            <div class="explanation">
                <h3>How it works:</h3>
                <ul>
                    <li>Uses an arrow function for concise syntax</li>
                    <li>Template literals allow embedded expressions with ${}</li>
                    <li>Single line return statement for simple implementation</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>Toy Production Tracker</h2>
            <div class="interactive-demo">
                <button onclick="demonstrateScope()">Run Scope Demonstration</button>
                <div id="scopeResult" class="results"></div>
            </div>

            <div class="code-example">
// Original Code with Scope Issues:
function trackToyProduction() {
    var totalToys = 100;
    if(true) {
        var totalToys = 50;  // This is causing issues!
        let dailyToys = 10;
    }
    console.log(totalToys);  // Prints 50 - not what we want!
    console.log(dailyToys);  // Causes an error
}

// Fixed Code with Proper Scope:
function trackToyProduction() {
    let totalToys = 100;     // Using let instead of var
    if(true) {
        let localToys = 50;  // Separate variable with block scope
        let dailyToys = 10;  // Properly scoped to this block
    }
    console.log(totalToys);  // Correctly prints 100
    // dailyToys is not accessible here - proper block scoping
}
            </div>
            
            <div class="explanation">
                <h3>Understanding Scope:</h3>
                <ul>
                    <li><strong>var</strong>: Function-scoped, can lead to unintended variable hoisting and redeclaration</li>
                    <li><strong>let</strong>: Block-scoped, prevents accidental redeclaration and maintains proper variable isolation</li>
                    <li><strong>const</strong>: Block-scoped, prevents reassignment, ideal for values that shouldn't change</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Previous JavaScript remains the same

        // Santa Message Generator
        const santaMessage = (name, gifts) => `Ho ho ho! ${name} has been good and gets ${gifts} presents!`;

        function generateSantaMessage() {
            const name = document.getElementById('childNameMessage').value;
            const gifts = document.getElementById('numGifts').value;
            const messageDiv = document.getElementById('messageResult');
            
            if (!name) {
                messageDiv.innerHTML = '‚ùå Please enter a child\'s name';
                messageDiv.style.color = 'red';
                return;
            }

            const message = santaMessage(name, gifts);
            messageDiv.innerHTML = `üéÖ ${message}`;
            messageDiv.style.color = 'green';
        }

        // Scope Demonstration
        function demonstrateScope() {
            const resultDiv = document.getElementById('scopeResult');
            let output = '';

            // Original problematic code demonstration
            try {
                var totalToys = 100;
                if(true) {
                    var totalToys = 50;
                    let dailyToys = 10;
                }
                output += `Problem Demo:\n`;
                output += `totalToys: ${totalToys}\n`; // Will show 50
                output += `Trying to access dailyToys...\n`;
            } catch (e) {
                output += `Error: ${e.message}\n`;
            }

            // Fixed code demonstration
            try {
                let fixedTotalToys = 100;
                if(true) {
                    let localToys = 50;
                    let dailyToys = 10;
                }
                output += `\nFixed Version:\n`;
                output += `fixedTotalToys: ${fixedTotalToys}\n`; // Will show 100
                output += `localToys and dailyToys are not accessible here (as intended)\n`;
            } catch (e) {
                output += `Error: ${e.message}\n`;
            }

            resultDiv.innerHTML = output.replace(/\n/g, '<br>');
        }
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santa's Workshop Management System</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        h1 {
            color: #c41e3a;
            text-align: center;
        }
        .section {
            margin-bottom: 30px;
        }
        .input-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, select {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 200px;
        }
        button {
            background-color: #c41e3a;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        button:hover {
            background-color: #a01830;
        }
        .results {
            margin-top: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f8f8f8;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéÖ Santa's Workshop Management System</h1>

        <!-- Reindeer Feeding Section -->
        <div class="section">
            <h2>Reindeer Feeding Schedule</h2>
            <div class="input-group">
                <label for="numReindeer">Number of Reindeer:</label>
                <input type="number" id="numReindeer" min="1" max="12" value="8">
                <button onclick="generateFeedingSchedule()">Generate Schedule</button>
            </div>
            <div id="feedingSchedule" class="results"></div>
        </div>

        <!-- Gift Management Section -->
        <div class="section">
            <h2>Gift Management</h2>
            <div class="input-group">
                <label for="childName">Child's Name:</label>
                <input type="text" id="childName">
            </div>
            <div class="input-group">
                <label for="giftWeight">Gift Weight (kg):</label>
                <input type="number" id="giftWeight" min="0" max="30">
            </div>
            <div class="input-group">
                <label for="giftCategory">Gift Category:</label>
                <select id="giftCategory">
                    <option value="toys">Toys</option>
                    <option value="books">Books</option>
                    <option value="clothes">Clothes</option>
                </select>
            </div>
            <button onclick="addGift()">Add Gift</button>
            <div id="giftResult" class="results"></div>
        </div>

        <!-- Workshop Simulator Section -->
        <div class="section">
            <h2>Workshop Simulator</h2>
            <div class="input-group">
                <label for="toyName">Toy Name:</label>
                <input type="text" id="toyName">
            </div>
            <div class="input-group">
                <label for="toyColor">Color:</label>
                <select id="toyColor">
                    <option value="red">Red</option>
                    <option value="green">Green</option>
                    <option value="blue">Blue</option>
                    <option value="yellow">Yellow</option>
                </select>
            </div>
            <button onclick="processToy()">Process Toy</button>
            <div id="workshopResult" class="results"></div>
        </div>
    </div>

    <script>
        // Reindeer Feeding System
        const feedReindeer = numReindeer => {
            const feedingTimes = [];
            const START_TIME = 6;
            const FEEDING_INTERVAL = 24 / (numReindeer * 2);

            for (let i = 0; i < numReindeer * 2; i++) {
                const feedingTime = (START_TIME + (i * FEEDING_INTERVAL)) % 24;
                feedingTimes.push(Math.round(feedingTime * 100) / 100);
            }
            return feedingTimes;
        };

        function generateFeedingSchedule() {
            const numReindeer = document.getElementById('numReindeer').value;
            const times = feedReindeer(parseInt(numReindeer));
            const scheduleDiv = document.getElementById('feedingSchedule');
            
            let html = '<table><tr><th>Feeding #</th><th>Time (24hr)</th></tr>';
            times.forEach((time, index) => {
                html += `<tr><td>${index + 1}</td><td>${time.toFixed(2)}</td></tr>`;
            });
            html += '</table>';
            
            scheduleDiv.innerHTML = html;
        }

        // Gift Management System
        const niceList = new Set(['Tommy', 'Sally', 'Jimmy', 'Anna']);
        const MAX_WEIGHT = 25;

        function addGift() {
            const childName = document.getElementById('childName').value;
            const weight = parseFloat(document.getElementById('giftWeight').value);
            const category = document.getElementById('giftCategory').value;
            const resultDiv = document.getElementById('giftResult');

            try {
                if (!niceList.has(childName)) throw new Error('Child not on nice list');
                if (weight > MAX_WEIGHT) throw new Error('Gift too heavy for sleigh');
                if (!['toys', 'books', 'clothes'].includes(category)) {
                    throw new Error('Invalid gift category');
                }
                
                resultDiv.innerHTML = `‚úÖ Gift added for ${childName}`;
                resultDiv.style.color = 'green';
            } catch (error) {
                resultDiv.innerHTML = `‚ùå Error: ${error.message}`;
                resultDiv.style.color = 'red';
            }
        }

        // Workshop Simulator
        class WorkshopSimulator {
            constructor() {
                this.successfulToys = 0;
                this.failedToys = 0;
                this.validColors = ['red', 'green', 'blue', 'yellow'];
            }

            processToy(toyName, color) {
                try {
                    if (!this.validColors.includes(color)) {
                        throw new Error('Invalid color');
                    }
                    if (!toyName) {
                        throw new Error('Toy name required');
                    }
                    this.successfulToys++;
                    return {
                        success: true,
                        message: `Toy "${toyName}" successfully processed in ${color} color!`,
                        stats: this.getStats()
                    };
                } catch (error) {
                    this.failedToys++;
                    return {
                        success: false,
                        message: error.message,
                        stats: this.getStats()
                    };
                }
            }

            getStats() {
                return {
                    successful: this.successfulToys,
                    failed: this.failedToys
                };
            }
        }

        const workshop = new WorkshopSimulator();

        function processToy() {
            const toyName = document.getElementById('toyName').value;
            const color = document.getElementById('toyColor').value;
            const result = workshop.processToy(toyName, color);
            const resultDiv = document.getElementById('workshopResult');

            resultDiv.innerHTML = `
                <p style="color: ${result.success ? 'green' : 'red'}">
                    ${result.success ? '‚úÖ' : '‚ùå'} ${result.message}
                </p>
                <p>Workshop Stats:</p>
                <p>Successful Toys: ${result.stats.successful}</p>
                <p>Failed Toys: ${result.stats.failed}</p>
            `;
        }

        // Initialize the feeding schedule on page load
        generateFeedingSchedule();
    </script>
</body>
</html>